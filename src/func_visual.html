<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BRIDGE - 시각장애 지원</title>
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/components.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="logo" style="cursor: pointer;" onclick="location.href='mainpage.html'">
                <img src="images/logo.png" alt="BRIDGE 로고" class="logo-image">
            </div>
            <button class="my-info-btn" onclick="location.href='mypage.html'">내 정보</button>
        </header>

        <nav class="nav-bar">
            <button class="back-btn" onclick="history.back()">←</button>
            <h1 class="page-title">지원 기능</h1>
        </nav>

        <section class="main-icon">
            <div class="main-icon-img">
                <img src="images/visual.png" alt="시각장애 지원 아이콘">
            </div>
        </section>

        <div class="feature-options">
            <div class="feature-option"><span>음성 안내</span></div>
            <div class="feature-option"><span>고대비 화면</span></div>
            <div class="feature-option"><span>큰 글씨 출력</span></div>
        </div>

        <div class="cards">
            <div class="card">
                <h3>스마트폰 연동</h3>
                <p>블루투스를 통해 자동으로 개인 설정이 연동됩니다.</p>
            </div>
            <div class="card">
                <h3>자동 인식</h3>
                <p>키오스크나 은행 기기에 가까이 가면 자동으로 연결됩니다.</p>
            </div>
            <div class="card">
                <h3>서비스 이용</h3>
                <p>키오스크나 은행에서 편리하게 이용하세요.</p>
            </div>
        </div>

        <button class="use-btn" onclick="handleRegister()">이용하기</button>
    </div>
    
    <script>
        // 1. 로그인 상태 체크 (즉시 실행 함수)
        (function() {
            if (localStorage.getItem('isLoggedIn') !== 'true') {
                alert("로그인이 필요한 서비스입니다.");
                location.href = 'mainpage.html';
            }
        })();

        // 2. 등록 및 유형 저장
        function handleRegister() {
            if (confirm("시각장애인 지원 기능을 등록하시겠습니까?")) {
                localStorage.setItem('userType', '시각장애인');
                alert("등록이 완료되었습니다. 마이페이지로 이동합니다.");
                location.href = 'mypage.html';
            }
        }
    </script>
</body>
</html>