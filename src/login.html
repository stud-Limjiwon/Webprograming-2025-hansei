<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>로그인 - BRIDGE</title>
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/login.css">
</head>
<body>
    <header class="header">
        <a href="mainpage.html" class="logo">
            <span class="a11y-hidden"></span>
        </a>
    </header>


    <div class="login-container">
        <div class="login-box">
    <div class="form-group">
        <label class="form-label">아이디</label>
        <input type="text" id="user-id" class="form-input" placeholder="example@domain.com">
    </div>

    <div class="form-group">
        <label class="form-label">비밀번호</label>
        <input type="password" id="user-pw" class="form-input" placeholder="비밀번호를 입력하세요.">
        <small style="color: #666; font-size: 12px; margin-top: 5px; display: block;">
            * 비밀번호는 4자 이상 입력해주세요.
        </small>
    </div>

    <div class="checkbox-group">
        <input type="checkbox" id="agree" class="checkbox-input" checked>
        <label for="agree" class="checkbox-label">Agree</label>
    </div>

    <button class="btn btn-primary" onclick="handleLogin()">로그인</button>
    
    <button class="btn btn-kakao">
        <span class="kakao-icon"></span>
        KAKAO 1초만에 로그인
    </button>

    <div class="link-group">
        <a class="link">아이디/비밀번호 찾기</a>
        <a class="link">회원가입</a>
    </div>
</div>

<script>
    function handleLogin() {
        const idInput = document.getElementById('user-id').value;
        const pwInput = document.getElementById('user-pw').value;

        // 1. 아이디에 @가 포함되어 있는지 확인
        if (!idInput.includes('@')) {
            alert("아이디에 @도메인을 포함해주세요. (예: user@email.com)");
            return;
        }

        // 2. 비밀번호가 4자 이상인지 확인
        if (pwInput.length < 4) {
            alert("비밀번호를 4자 이상 입력해주세요.");
            return;
        }

        // --- 수정 및 추가된 로직 ---
        // 로그인 성공 시 정보 저장
        localStorage.setItem('isLoggedIn', 'true');
        localStorage.setItem('userEmail', idInput); // 입력한 아이디(이메일)를 저장
        
        // 처음 로그인하는 경우 기본 이름과 전화번호 설정 (기존 데이터가 없을 때만)
        if (!localStorage.getItem('userName')) {
            localStorage.setItem('userName', '임 지원');
        }
        if (!localStorage.getItem('userPhone')) {
            localStorage.setItem('userPhone', '010-1234-5678');
        }

        alert("로그인에 성공하였습니다!");
        window.location.href = 'mainpage.html';
    }
</script>
</body>
</html>